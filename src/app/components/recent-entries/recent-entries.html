<div class="entries-container">
  <h1 class="page-title">Registros Recientes</h1>

  <!-- 1. Se muestra mientras los datos están "cargando" -->
  <div *ngIf="isLoading" class="loading-container">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Cargando registros...</p>
  </div>

  <!-- 2. Se muestra cuando la carga terminó -->
  <div *ngIf="!isLoading">
    
    <!-- 2A. Si HAY registros, se muestra la lista -->
    <ng-container *ngIf="recentEntries.length > 0; else noEntries">
      <div class="entries-list">
        <mat-card class="entry-card" *ngFor="let entry of recentEntries">
          <mat-card-header>
            <mat-icon mat-card-avatar [ngClass]="entry.rol === 'estudiante' ? 'student-icon' : 'staff-icon'">
              {{ entry.rol === 'estudiante' ? 'school' : 'engineering' }}
            </mat-icon>
            <mat-card-title>{{ entry.sede }}</mat-card-title>
            <mat-card-subtitle>{{ entry.edificio }}</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>
              <strong>Registrado por:</strong> {{ entry.usuario }} <br>
              <strong>Fecha:</strong> {{ entry.fecha | date:'dd/MM/yyyy h:mm a' }}
            </p>
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container>

    <!-- 2B. Si NO HAY registros, se muestra este mensaje limpio -->
    <ng-template #noEntries>
      <div class="no-entries-message">
        <mat-icon>inbox</mat-icon>
        <h2>No hay registros</h2>
        <p>Aún no se han ingresado datos. Los nuevos registros aparecerán aquí.</p>
      </div>
    </ng-template>

  </div>
</div>